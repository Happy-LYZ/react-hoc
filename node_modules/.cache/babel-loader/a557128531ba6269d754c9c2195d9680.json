{"ast":null,"code":"import _objectSpread from \"D:\\\\Project\\\\react-hoc\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"D:\\\\Project\\\\react-hoc\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\Project\\\\react-hoc\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\Project\\\\react-hoc\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\Project\\\\react-hoc\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\Project\\\\react-hoc\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\Project\\\\react-hoc\\\\src\\\\components\\\\HOC\\\\index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\"; // 函数接受一个组件参数……\n\nfunction HOC(WrappedComponent, key) {\n  // ……返回另一个新组件……\n  return (\n    /*#__PURE__*/\n    function (_React$Component) {\n      _inherits(_class2, _React$Component);\n\n      function _class2(props) {\n        var _this;\n\n        _classCallCheck(this, _class2);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(_class2).call(this, props));\n\n        _this.onChange = function (fieldName) {\n          return function (e) {\n            var fields = _this.state.fields;\n            fields[fieldName] = e.target.value;\n\n            _this.setState({\n              fields: fields\n            });\n          };\n        };\n\n        _this.getValue = function (fieldName) {\n          return _this.state.fields[fieldName];\n        };\n\n        console.log(\"HOC constructor\"); // eslint-disable-line\n\n        _this.state = {\n          fields: {}\n        };\n        return _this;\n      }\n\n      _createClass(_class2, [{\n        key: \"componentWillMount\",\n        value: function componentWillMount() {\n          console.log(\"HOC componentWillMount\"); // eslint-disable-line\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var props = _objectSpread({}, this.props, {\n            onChange: this.onChange,\n            getValue: this.getValue\n          });\n\n          console.log(\"this.props\", props);\n          return React.createElement(WrappedComponent, Object.assign({}, props, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39\n            },\n            __self: this\n          }));\n        }\n      }]);\n\n      return _class2;\n    }(React.Component)\n  );\n}\n\nexport default HOC;","map":{"version":3,"sources":["D:\\Project\\react-hoc\\src\\components\\HOC\\index.js"],"names":["React","ReactDOM","HOC","WrappedComponent","key","props","onChange","fieldName","e","fields","state","target","value","setState","getValue","console","log","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB,C,CAEA;;AACA,SAASC,GAAT,CAAaC,gBAAb,EAA+BC,GAA/B,EAAoC;AAClC;AACA;AAAA;AAAA;AAAA;;AACE,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;;AADiB,cAYnBC,QAZmB,GAYR,UAAAC,SAAS;AAAA,iBAAI,UAAAC,CAAC,EAAI;AAAA,gBACnBC,MADmB,GACR,MAAKC,KADG,CACnBD,MADmB;AAE3BA,YAAAA,MAAM,CAACF,SAAD,CAAN,GAAoBC,CAAC,CAACG,MAAF,CAASC,KAA7B;;AACA,kBAAKC,QAAL,CAAc;AACZJ,cAAAA,MAAM,EAANA;AADY,aAAd;AAGD,WANmB;AAAA,SAZD;;AAAA,cAoBnBK,QApBmB,GAoBR,UAAAP,SAAS,EAAI;AACtB,iBAAO,MAAKG,KAAL,CAAWD,MAAX,CAAkBF,SAAlB,CAAP;AACD,SAtBkB;;AAEjBQ,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAFiB,CAEe;;AAChC,cAAKN,KAAL,GAAa;AACXD,UAAAA,MAAM,EAAE;AADG,SAAb;AAHiB;AAMlB;;AAPH;AAAA;AAAA,6CASuB;AACnBM,UAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EADmB,CACoB;AACxC;AAXH;AAAA;AAAA,iCAyBW;AACP,cAAMX,KAAK,qBACN,KAAKA,KADC;AAETC,YAAAA,QAAQ,EAAE,KAAKA,QAFN;AAGTQ,YAAAA,QAAQ,EAAE,KAAKA;AAHN,YAAX;;AAKAC,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BX,KAA1B;AACA,iBAAO,oBAAC,gBAAD,oBAAsBA,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAP;AACD;AAjCH;;AAAA;AAAA,MAAqBL,KAAK,CAACiB,SAA3B;AAAA;AAmCD;;AAED,eAAef,GAAf","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\n// 函数接受一个组件参数……\r\nfunction HOC(WrappedComponent, key) {\r\n  // ……返回另一个新组件……\r\n  return class extends React.Component {\r\n    constructor(props) {\r\n      super(props);\r\n      console.log(\"HOC constructor\"); // eslint-disable-line\r\n      this.state = {\r\n        fields: {}\r\n      };\r\n    }\r\n\r\n    componentWillMount() {\r\n      console.log(\"HOC componentWillMount\"); // eslint-disable-line\r\n    }\r\n\r\n    onChange = fieldName => e => {\r\n      const { fields } = this.state;\r\n      fields[fieldName] = e.target.value;\r\n      this.setState({\r\n        fields\r\n      });\r\n    };\r\n\r\n    getValue = fieldName => {\r\n      return this.state.fields[fieldName];\r\n    };\r\n\r\n    render() {\r\n      const props = {\r\n        ...this.props,\r\n        onChange: this.onChange,\r\n        getValue: this.getValue\r\n      };\r\n      console.log(\"this.props\", props);\r\n      return <WrappedComponent {...props} />;\r\n    }\r\n  };\r\n}\r\n\r\nexport default HOC;\r\n"]},"metadata":{},"sourceType":"module"}